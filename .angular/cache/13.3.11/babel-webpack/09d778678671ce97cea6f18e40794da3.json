{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let StudentService = /*#__PURE__*/(() => {\n  class StudentService {\n    constructor(http) {\n      this.http = http;\n      this.studentsSubject = new BehaviorSubject([]);\n      this.students$ = this.studentsSubject.asObservable();\n      this.API = 'https://jsonplaceholder.typicode.com/users';\n      this.loadMockStudents();\n    }\n\n    loadMockStudents() {\n      this.http.get(this.API).pipe(map(users => users.map((u, index) => ({\n        id: u.id,\n        name: u.name,\n        email: u.email,\n        age: 17 + Math.floor(Math.random() * 18),\n        course: ['BCA', 'MCA', 'BSc CS', 'MSc IT', 'BTech'][index % 5]\n      })))).subscribe({\n        next: data => this.studentsSubject.next(data),\n        error: () => this.studentsSubject.next([])\n      });\n    }\n\n    getStudent(id) {\n      return this.studentsSubject.value.find(s => s.id === id);\n    }\n\n    addStudent(student) {\n      const current = this.studentsSubject.value;\n      const newId = Math.max(0, ...current.map(s => s.id)) + 1;\n      this.studentsSubject.next([...current, Object.assign(Object.assign({}, student), {\n        id: newId\n      })]);\n    }\n\n    updateStudent(student) {\n      const current = this.studentsSubject.value.map(s => s.id === student.id ? student : s);\n      this.studentsSubject.next(current);\n    }\n\n    deleteStudent(id) {\n      const current = this.studentsSubject.value.filter(s => s.id !== id);\n      this.studentsSubject.next(current);\n    }\n\n  }\n\n  StudentService.ɵfac = function StudentService_Factory(t) {\n    return new (t || StudentService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  StudentService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: StudentService,\n    factory: StudentService.ɵfac,\n    providedIn: 'root'\n  });\n  return StudentService;\n})();","map":null,"metadata":{},"sourceType":"module"}